!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.MutationObserver=n():(t.BoxArt=t.BoxArt||{},t.BoxArt.MutationObserver=n())}("undefined"!=typeof self?self:this,function(){return function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var r={};return n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=3)}([function(t,n,r){"use strict";(function(n){var r=function(){function t(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=function t(e){function o(t){return Object.setPrototypeOf(t,o.prototype)}var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.prototype=Object.create(Function.prototype),o.prototype.constructor=o;var u={},a=i;Object.defineProperties(i,{create:{enumerable:!1,value:function(n,r){return"function"==typeof n?t(function(){return Object.assign({},u,n())},r):t(Object.assign({},u,n),r)}},register:{enumerable:!1,value:function(t,r){if(u[t]=r,"production"!==n.env.NODE_ENV&&u[t]!==r)throw new Error("Cannot register on a frozen animation builder");return a[t]=new o(function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return new o(r.call.apply(r,[this].concat(n)))}),o.prototype[t]=new o(function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return new o(r.call.apply(r,[this,this].concat(n)))}),a[t]}},cast:{enumerable:!1,value:function(t){return new o(function(){return new o(t.bind())()})}},context:{enumerable:!1,value:function(t){return t(a)}},freeze:{enumerable:!1,value:function(){return Object.freeze(u),Object.freeze(a),Object.freeze(o.prototype),a}},toString:{enumerable:!1,value:function(){return"{"+Object.entries(u).map(function(t){var n=r(t,2),e=n[0],o=n[1];return e+": "+String(o)}).join(",\n")+"}"}}});var c=e;"function"==typeof e&&(c=e());for(var f in c)a.register(f,c[f]);return a};t.exports=e,t.exports.create=e}).call(n,r(5))},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}Object.defineProperty(n,"__esModule",{value:!0});var i,u=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),a=function(){function t(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=2,f=(i={},o(i,"BEFORE_ITEMS",0),o(i,"AFTER_ITEMS",1),o(i,"ITEMS",2),o(i,"ANIMATE",3),o(i,"DESTROY",4),i),l=function(t,n){var r=t._state,e=t._state;0===e&&1===n||3===e&&3===n?e=c:0===e&&2===n||3===e&&0===n?e=1:1===e&&1===n||e===c&&2===n?e=3:(1===e&&3===n||e===c&&0===n)&&(e=0),e!==r&&(t._state=e,3===r?t.cancelFrame():3===e&&(t.last=t.now(),t._frameId=t.requestFrame()))},s=function(t){var n=a(t,3),r=n[0],e=n[1],o=n[2];this.remove(r,e),this.remove(this._remove,t,o)},v=function(){this._soon=null},h=function(t){t.requestFrame();for(var n=t.cleanup,r=void 0,e=void 0,o=void 0,i=0,u=n.length;i<u;i+=2){r=n[i+0],e=n[i+1];var a=!0,c=!1,f=void 0;try{for(var s,v=t.stages[Symbol.iterator]();!(a=(s=v.next()).done);a=!0){var h=s.value;if("break"===function(n){if(-1!==(o=n.findIndex(function(t,o){return o%2==0&&t===r&&n[o+1]===e})))return n.splice(o,2),t.itemCount-=1,"break"}(h))break}}catch(t){c=!0,f=t}finally{try{!a&&v.return&&v.return()}finally{if(c)throw f}}}if(n.length=0,0===t.itemCount)return void l(t,3);var d=t.now(),y=Math.min((d-t.last)/1e3,.033);t.last=d;var m=!0,b=!1,p=void 0;try{for(var g,w=t.stages[Symbol.iterator]();!(m=(g=w.next()).done);m=!0)for(var x=g.value,S=0;S<x.length;S+=2)try{x[S+0](x[S+1],y)}catch(t){console.error(t?t.stack||t:t)}}catch(t){b=!0,p=t}finally{try{!m&&w.return&&w.return()}finally{if(b)throw p}}},d=function(){function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.requestFrame,i=void 0===o?window.requestAnimationFrame:o,u=r.cancelFrame,a=void 0===u?window.cancelAnimationFrame:u,f=r.now,l=void 0===f?Date.now:f;e(this,t),this._state=c,this.itemCount=0,this.stages=[[],[],[],[],[]],this.cleanup=[],this._remove=s.bind(this),this._soonNull=v.bind(this),this.requestFrame=function(){n._frameId=i.call(null,function(){return h(n)})},this.cancelFrame=function(){a.call(null,n._frameId)},this.now=l}return u(t,[{key:"pause",value:function(){l(this,0)}},{key:"resume",value:function(){l(this,1)}},{key:"add",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ANIMATE";0===this.itemCount&&l(this,2),this.itemCount+=1,this.stages[f[r]].push(t,n)}},{key:"remove",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.cleanup.push(t,n)}},{key:"schedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"BEFORE_ITEMS";this.add(t,n,r)}},{key:"unschedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.remove(t,n)}},{key:"once",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"BEFORE_ITEMS";this.add(t,n,r),this.add(this._remove,[t,n,r],r)}},{key:"soon",value:function(){return this._soon||(this._soon=Promise.resolve().then(this._soonNull)),this._soon}}]),t}();d.stages={BEFORE_ITEMS:"BEFORE_ITEMS",AFTER_ITEMS:"AFTER_ITEMS",ITEMS:"ITEMS",ANIMATE:"ANIMATE",DESTROY:"DESTROY"},"function"==typeof requestAnimationFrame?d.main=new d:d.main=new d({requestFrame:function(t){return setTimeout(t,16)},cancelFrame:function(t){return clearTimeout(t)}}),n.default=d},,function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.update=n.present=n.animate=void 0;var i=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),u=r(4),a=e(u),c=r(6),f=e(c),l=r(7),s=e(l),v=r(8),h=e(v),d=r(9),y=e(d),m=r(11),b=e(m),p=r(12),g=e(p),w=r(13),x=e(w),S=r(1),_=e(S),M=r(15),O=e(M),B=function(){function t(n){var r=n.loop,e=void 0===r?_.default.main:r,i=n.animations;o(this,t),this.animations=i;var u=this.bus=new b.default,a={},c=this.matcher=new x.default;Object.keys(i).forEach(function(t){c.add(t,Object.keys(i[t]));var n=a[t.split(" ")[0]]=i[t];Object.keys(n).forEach(function(t){var r=n[t];if(r.update&&!r.update.copy)try{var e=e.context(r.update);"function"==typeof e&&(r.update=e)}catch(t){console.error(t)}if(r.update&&r.update.compile)try{r.update=r.update.compile()}catch(t){console.error(t)}if(r.animate&&!r.animate.done)try{var o=o.context(r.animate);"function"==typeof o&&(r.animate=o)}catch(t){console.error(t)}if(r.animate&&r.animate.compile)try{r.animate=r.animate.compile()}catch(t){console.error(t)}if(r.present&&!r.present.store)try{var i=i.context(r.present);"function"==typeof i&&(r.present=i)}catch(t){console.error(t)}if(r.present&&r.present.compile)try{r.present=r.present.compile()}catch(t){console.error(t)}})});var f=new y.default(i),l=f.create,s=this.manager=new h.default(l,e);new g.default(s,u),this.innerObserver=new O.default({bus:u,loop:e,matcher:c})}return i(t,[{key:"observe",value:function(t){this.innerObserver.observe(t)}},{key:"disconnect",value:function(){this.innerObserver.disconnect()}},{key:"getManager",value:function(){return this.manager}},{key:"getAnimated",value:function(t){return this.manager.getAnimated(t)}}]),t}();n.default=B,n.animate=a.default,n.present=f.default,n.update=s.default},function(t,n,r){"use strict";var e=function(){function t(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(0);t.exports=o({value:function(t){var n=function(n,r,e,o,i){return t(n,r,e,o,i)};return n.toB=function(n,r,e,o,i,u){var a=void 0;if(t.toB)a=t.toB(n,r,e,o,i,u);else{var c=t(r,e,o,i,u);a=(n(r,e,o,i,u)-c)*Math.min(1,r)+c}return a},n.done=function(n){return(!t.done||t.done(n,state,begin,end,data))&&n>=1},n},lerp:function(t){var n=function(n,r,e,o,i){return t(n,r,e,o,i)};return n.toB=function(n,r,e,o,i,u){var a=t(r,e,o,i,u);return(n(r,e,o,i,u)-a)*Math.min(1,r)+a},n.done=function(t,n,r,e,o){return t>=1},n},union:function(t){var n=function(n,r,e,o,i){var u=!0,a=!1,c=void 0;try{for(var f,l=Object.values(t)[Symbol.iterator]();!(u=(f=l.next()).done);u=!0){(0,f.value)(n,r,e,o,i)}}catch(t){a=!0,c=t}finally{try{!u&&l.return&&l.return()}finally{if(a)throw c}}return r};return n.set=t,n.toB=function(n,r,e,o,i,u){var a=0,c=!0,f=!1,l=void 0;try{for(var s,v=Object.values(t)[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){s.value.toB(n.set[a],r,e,o,i,u),a+=1}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return e},n.done=function(n,r,e,o,i){var u=!0,a=!0,c=!1,f=void 0;try{for(var l,s=Object.values(t)[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var v=l.value;u&&!v.done(n,r,e,o,i)&&(u=!1)}}catch(t){c=!0,f=t}finally{try{!a&&s.return&&s.return()}finally{if(c)throw f}}return u},n},toB:function(t,n){var r=function(n,r,e,o,i){return t(n,r,e,o,i)};return r.toB=function(t,r,e,o,i,u){return n(t,r,e,o,i,u)},r.done=function(r){return(!t.done||t.done(r,state,begin,end,data))&&(!n.done||n.done(r,state,begin,end,data))&&r>=1},r},done:function(t,n){var r=function(n,r,e,o,i){return t(n,r,e,o,i)};return r.toB=function(n,r,e,o,i,u){return t.toB?t.toB(n,r,e,o,i,u):t(r,e,o,i,u)},r.done=function(t,r,e,o,i){return n(t,r,e,o,i)},r},unary:function(t,n){var r=function(r,e,o,i,u){return t(n(r,e,o,i,u))};return r.toB=function(r,e,o,i,u,a){var c=t(n(e,o,i,u,a));return(r(e,o,i,u,a)-c)*Math.min(1,e)+c},r.done=function(t){return t>=1},r},abs:function(t){var n=function(n,r,e,o,i){var u=t(n,r,e,o,i);return Math.abs(u)};return n.toB=function(n,r,e,o,i,u){var a=t(r,e,o,i,u),c=Math.abs(a);return(n(r,e,o,i,u)-c)*Math.min(1,r)+c},n.done=function(t){return t>=1},n},binary:function(t,n,r){var e=function(e,o,i,u,a){return t(n(e,o,i,u,a),r(e,o,i,u,a))};return e.toB=function(e,o,i,u,a,c){var f=t(n(o,i,u,a,c),r(o,i,u,a,c));return(e(o,i,u,a,c)-f)*Math.min(1,o)+f},e.done=function(t){return t>=1},e},add:function(t,n){var r=function(r,e,o,i,u){return t(r,e,o,i,u)+n(r,e,o,i,u)};return r.toB=function(r,e,o,i,u,a){var c=t(e,o,i,u,a),f=n(e,o,i,u,a),l=c+f;return(r(e,o,i,u,a)-l)*Math.min(1,e)+l},r.done=function(t){return t>=1},r},sub:function(t,n){var r=function(r,e,o,i,u){return t(r,e,o,i,u)-n(r,e,o,i,u)};return r.toB=function(r,e,o,i,u,a){var c=t(e,o,i,u,a),f=n(e,o,i,u,a),l=c-f;return(r(e,o,i,u,a)-l)*Math.min(1,e)+l},r.done=function(t){return t>=1},r},mul:function(t,n){var r=function(r,e,o,i,u){return t(r,e,o,i,u)*n(r,e,o,i,u)};return r.toB=function(r,e,o,i,u,a){var c=t(e,o,i,u,a),f=n(e,o,i,u,a),l=c*f;return(r(e,o,i,u,a)-l)*Math.min(1,e)+l},r.done=function(t){return t>=1},r},div:function(t,n){var r=function(r,e,o,i,u){return t(r,e,o,i,u)/n(r,e,o,i,u)};return r.toB=function(r,e,o,i,u,a){var c=t(e,o,i,u,a),f=n(e,o,i,u,a),l=c/f;return(r(e,o,i,u,a)-l)*Math.min(1,e)+l},r.done=function(t){return t>=1},r},mod:function(t,n){var r=function(r,e,o,i,u){return t(r,e,o,i,u)%n(r,e,o,i,u)};return r.toB=function(r,e,o,i,u,a){var c=t(e,o,i,u,a),f=n(e,o,i,u,a),l=c%f;return(r(e,o,i,u,a)-l)*Math.min(1,e)+l},r.done=function(t){return t>=1},r},min:function(t,n){var r=function(r,e,o,i,u){var a=t(r,e,o,i,u),c=n(r,e,o,i,u);return Math.min(a,c)};return r.toB=function(r,e,o,i,u,a){var c=t(e,o,i,u,a),f=n(e,o,i,u,a),l=Math.min(c,f);return(r(e,o,i,u,a)-l)*Math.min(1,e)+l},r.done=function(t){return t>=1},r},max:function(t,n){var r=function(r,e,o,i,u){var a=t(r,e,o,i,u),c=n(r,e,o,i,u);return Math.max(a,c)};return r.toB=function(r,e,o,i,u,a){var c=t(e,o,i,u,a),f=n(e,o,i,u,a),l=Math.max(c,f);return(r(e,o,i,u,a)-l)*Math.min(1,e)+l},r.done=function(t){return t>=1},r},eq:function(t,n){var r=function(r,e,o,i,u){return t(r,e,o,i,u)===n(r,e,o,i,u)};return r.toB=function(r,e,o,i,u,a){var c=t(e,o,i,u,a),f=n(e,o,i,u,a),l=c===f;return(r(e,o,i,u,a)-l)*Math.min(1,e)+l},r.done=function(t){return t>=1},r},ne:function(t,n){var r=function(r,e,o,i,u){return t(r,e,o,i,u)!==n(r,e,o,i,u)};return r.toB=function(r,e,o,i,u,a){var c=t(e,o,i,u,a),f=n(e,o,i,u,a),l=c!==f;return(r(e,o,i,u,a)-l)*Math.min(1,e)+l},r.done=function(t){return t>=1},r},lt:function(t,n){var r=function(r,e,o,i,u){return t(r,e,o,i,u)<n(r,e,o,i,u)};return r.toB=function(r,e,o,i,u,a){var c=t(e,o,i,u,a),f=n(e,o,i,u,a),l=c<f;return(r(e,o,i,u,a)-l)*Math.min(1,e)+l},r.done=function(t){return t>=1},r},lte:function(t,n){var r=function(r,e,o,i,u){return t(r,e,o,i,u)<=n(r,e,o,i,u)};return r.toB=function(r,e,o,i,u,a){var c=t(e,o,i,u,a),f=n(e,o,i,u,a),l=c<=f;return(r(e,o,i,u,a)-l)*Math.min(1,e)+l},r.done=function(t){return t>=1},r},gt:function(t,n){var r=function(r,e,o,i,u){return t(r,e,o,i,u)>n(r,e,o,i,u)};return r.toB=function(r,e,o,i,u,a){var c=t(e,o,i,u,a),f=n(e,o,i,u,a),l=c>f;return(r(e,o,i,u,a)-l)*Math.min(1,e)+l},r.done=function(t){return t>=1},r},gte:function(t,n){var r=function(r,e,o,i,u){return t(r,e,o,i,u)>=n(r,e,o,i,u)};return r.toB=function(r,e,o,i,u,a){var c=t(e,o,i,u,a),f=n(e,o,i,u,a),l=c>=f;return(r(e,o,i,u,a)-l)*Math.min(1,e)+l},r.done=function(t){return t>=1},r},constant:function(t){var n=function(n,r,e,o,i){return t};return n.toB=function(n,r,e,o,i,u){return(n(r,e,o,i,u)-t)*Math.min(1,r)+t},n.done=function(t){return t>=1},n},t:function(){var t=function(t,n,r,e,o){return t};return t.toB=function(t,n,r,e,o,i){return(t(n,r,e,o,i)-n)*Math.min(1,n)+n},t.done=function(t){return t>=1},t},state:function(){var t=function(t,n,r,e,o){return n};return t.toB=function(t,n,r,e,o,i){return(t(n,r,e,o,i)-r)*Math.min(1,n)+r},t.done=function(t){return t>=1},t},at:function(t){var n=function(n,r,e,o,i){return(o-e)*t+e};return n.toB=function(n,r,e,o,i,u){var a=(i-o)*t+o;return(n(r,e,o,i,u)-a)*Math.min(1,r)+a},n.done=function(t,n,r,e,o){return t>=1},n},begin:function(){var t=function(t,n,r,e,o){return 0*(e-r)+r};return t.toB=function(t,n,r,e,o,i){var u=0*(o-e)+e;return(t(n,r,e,o,i)-u)*Math.min(1,n)+u},t.done=function(t,n,r,e,o){return t>=1},t},end:function(){var t=function(t,n,r,e,o){return 1*(e-r)+r};return t.toB=function(t,n,r,e,o,i){var u=1*(o-e)+e;return(t(n,r,e,o,i)-u)*Math.min(1,n)+u},t.done=function(t,n,r,e,o){return t>=1},t},to:function(t,n){var r=function(r,e,o,i,u){return t.toB(n,r,e,o,i,u)};return r.toB=function(n,r,e,o,i,u){return t.toB(n,r,e,o,i,u)},r.done=function(t){return t>=1},r},get:function(t,n){var r=function(r,e,o,i,u){var a=e,c=o,f=i;return n(r,a[t],c[t],f[t],u)};return r.toB=function(r,e,o,i,u,a){var c=o,f=i,l=u,s=n(e,c[t],f[t],l[t],a);return(r(e,o,i,u,a)-s)*Math.min(1,e)+s},r.done=function(t){return t>=1},r},set:function(t,n){var r=function(r,e,o,i,u){return e[t]=n(r,e,o,i,u),e};return r.toB=function(r,e,o,i,u,a){return o[t]=n(e,o,i,u,a),(r(e,o,i,u,a)-o)*Math.min(1,e)+o},r.done=function(t){return t>=1},r},object:function(t){var n=Object.entries(t),r=function(t,r,o,i,u){var a=!0,c=!1,f=void 0;try{for(var l,s=n[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var v=l.value,h=e(v,2),d=h[0],y=h[1];r[d]=y(t,r[d],o[d],i[d],u)}}catch(t){c=!0,f=t}finally{try{!a&&s.return&&s.return()}finally{if(c)throw f}}return r};return r.obj=t,r.toB=function(t,r,o,i,u,a){var c=!0,f=!1,l=void 0;try{for(var s,v=n[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){var h=s.value,d=e(h,2),y=d[0],m=d[1];o[y]=m.toB(t.obj[y],r,o[y],i[y],u[y],a)}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return o},r.done=function(n){return(!t.done||t.done(n,state,begin,end,data))&&n>=1},r},array:function(t){var n=t.toB||t,r=function(n,r,e,o,i){for(var u=r,a=e,c=o,f=0;f<u.length;f++)u[f]=t(n,u[f],a[f],c[f],i);return r};return r.toB=function(t,r,e,o,i,u){return n(t,r,e,o,i,u)},r.done=function(t){return(!n.done||n.done(t,state,begin,end,data))&&t>=1},r},easing:function(t,n){var r=t.toB||t,e=function(r,e,o,i,u){return t(n(r,e,o,i,u),e,o,i,u)};return e.toB=function(t,n,e,o,i,u){return r(t,n,e,o,i,u)},e.done=function(t,r,e,o,i){return n(t,r,e,o,i)>=1},e},easeIn:function(t){var n=t,r=n.toB||t,e=function(n,r,e,o,i){return t(n*n*n,r,e,o,i)};return e.toB=function(t,n,e,o,i,u){return r(t,n,e,o,i,u)},e.done=function(t,n,r,e,o){return t*t*t>=1},e},easeOut:function(t){var n=t,r=n.toB||t,e=function(n,r,e,o,i){return t((n-1)*(n-1)*(n-1)+1,r,e,o,i)};return e.toB=function(t,n,e,o,i,u){return r(t,n,e,o,i,u)},e.done=function(t,n,r,e,o){return(t-1)*(t-1)*(t-1)+1>=1},e},easeInOut:function(t){var n=t,r=n.toB||t,e=function(n,r,e,o,i){var u=void 0;return u=n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1,t(u,r,e,o,i)};return e.toB=function(t,n,e,o,i,u){return r(t,n,e,o,i,u)},e.done=function(t,n,r,e,o){return(t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1)>=1},e},duration:function(t,n){var r=t,e=r.toB||t,o=function(r,e,o,i,u){return t(r/n,e,o,i,u)};return o.toB=function(t,n,r,o,i,u){return e(t,n,r,o,i,u)},o.done=function(t,r,e,o,i){return t/n>=1},o},keyframes:function(t){var n=function(n,r,e,o,i){var u=0,a=!0,c=!1,f=void 0;try{for(var l,s=t[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){u+=l.value.t()}}catch(t){c=!0,f=t}finally{try{!a&&s.return&&s.return()}finally{if(c)throw f}}var v=r,h=Math.max(Math.min(n*u,u),0),d=0,y=!0,m=!1,b=void 0;try{for(var p,g=t[Symbol.iterator]();!(y=(p=g.next()).done);y=!0){var w=p.value;d>0&&h<=0?(v=t[d-1].toB(w,(h+t[d-1].t())/t[d-1].t(),r,e,o,i),h+=1/0):h-=w.t(),d+=1}}catch(t){m=!0,b=t}finally{try{!y&&g.return&&g.return()}finally{if(m)throw b}}return v};return n.toB=function(n,r,e,o,i,u){var a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){a+=s.value.t()}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}var h=e,d=Math.max(Math.min(r*a,a),0),y=void 0;y=0;var m=!0,b=!1,p=void 0;try{for(var g,w=t[Symbol.iterator]();!(m=(g=w.next()).done);m=!0){var x=g.value;d-=x.t(),d<=0&&(h=x.toB(t[y+1]||n,(d+x.t())/x.t(),e,o,i,u),d+=1/0),y+=1}}catch(t){b=!0,p=t}finally{try{!m&&w.return&&w.return()}finally{if(b)throw p}}return h},n},frame:function(t,n){var r=function(r,e,o,i,u){return n(t(r),e,o,i,u)};return r.toB=function(t,r,e,o,i,u){var a=void 0;if(n.toB)a=n.toB(t.fn||t,r,e,o,i,u);else{var c=n(r,e,o,i,u);a=(t(r,e,o,i,u)-c)*Math.min(1,r)+c}return a},r.t=function(){return t.t()},r.fn=n,r.done=function(r){return(!t.done||t.done(r,state,begin,end,data))&&(!n.done||n.done(r,state,begin,end,data))&&r>=1},r},timer:function(t){var n=function(n){return n/t};return n.t=function(){return t},n.toB=null,n.done=null,n},seconds:function(t){var n=function(n){return n/t};return n.t=function(){return t},n.toB=null,n.done=null,n},ms:function(t){var n=t/1e3,r=function(t){return t/n};return r.t=function(){return n},r.toB=null,r.done=null,r},percent:function(t){var n=t/100,r=function(t){return t/n};return r.t=function(){return n},r.toB=null,r.done=null,r},until:function(t,n){var r=t,e=function(n,r,e,o,i){return t(n,r,e,o,i)};return e.toB=function(n,e,o,i,u,a){return r.toB?r.toB(n,e,o,i,u,a):t(e,o,i,u,a)},e.done=function(t,r,e,o,i){return n(t,r,e,o,i)},e},loop:function(t,n){var r=t,e=r.toB||t,o=function(r,e,o,i,u){return t(r/n%1,e,o,i,u)};return o.toB=function(t,n,r,o,i,u){return e(t,n,r,o,i,u)},o.done=function(t,r,e,o,i){return t/n%1>=1},o}})},function(t,n){function r(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(n){try{return l.call(null,t,0)}catch(n){return l.call(this,t,0)}}}function i(t){if(s===clearTimeout)return clearTimeout(t);if((s===e||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{return s(t)}catch(n){try{return s.call(null,t)}catch(n){return s.call(this,t)}}}function u(){y&&h&&(y=!1,h.length?d=h.concat(d):m=-1,d.length&&a())}function a(){if(!y){var t=o(u);y=!0;for(var n=d.length;n;){for(h=d,d=[];++m<n;)h&&h[m].run();m=-1,n=d.length}h=null,y=!1,i(t)}}function c(t,n){this.fun=t,this.array=n}function f(){}var l,s,v=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{s="function"==typeof clearTimeout?clearTimeout:e}catch(t){s=e}}();var h,d=[],y=!1,m=-1;v.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];d.push(new c(t,n)),1!==d.length||y||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={},v.on=f,v.addListener=f,v.once=f,v.off=f,v.removeListener=f,v.removeAllListeners=f,v.emit=f,v.prependListener=f,v.prependOnceListener=f,v.listeners=function(t){return[]},v.binding=function(t){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(t){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},function(t,n,r){"use strict";var e=function(){function t(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(0);t.exports=o({value:function(t){var n=function(n,r,e){return t(n,r,e)};return n.store=function(n,r,e){return t.store?t.store(n,r,e):r},n.restore=function(n,r,e){return t.restore?t.restore(n,r,e):r},n},union:function(t){var n=function(n,r,e){var o=!0,i=!1,u=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){(0,a.value)(n,r,e)}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return n};return n.store=function(n,r,e){var o=!0,i=!1,u=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value;f.store&&f.store(n,r,e)}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return n},n.restore=function(n,r,e){var o=!0,i=!1,u=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value;f.restore&&f.restore(n,r,e)}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return n},n},constant:function(t){var n=function(n,r,e){return t};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},key:function(t){var n=function(n,r,e){return r[t]};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},suffix:function(t,n){var r=function(r,e,o){return t(r,e,o)+n};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},em:function(t){var n=function(n,r,e){return t(n,r,e)+"em"};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},percent:function(t){var n=function(n,r,e){return t(n,r,e)+"%"};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},deg:function(t){var n=function(n,r,e){return t(n,r,e)+"deg"};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},rad:function(t){var n=function(n,r,e){return t(n,r,e)+"rad"};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},px:function(t){var n=function(n,r,e){return t(n,r,e)+"px"};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},rem:function(t){var n=function(n,r,e){return t(n,r,e)+"rem"};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},vh:function(t){var n=function(n,r,e){return t(n,r,e)+"vh"};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},vmax:function(t){var n=function(n,r,e){return t(n,r,e)+"vmax"};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},vmin:function(t){var n=function(n,r,e){return t(n,r,e)+"vmin"};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},vw:function(t){var n=function(n,r,e){return t(n,r,e)+"vw"};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},unary:function(t,n){var r=function(r,e,o){return t(n(r,e,o))};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},binary:function(t,n,r){var e=function(e,o,i){return t(n(e,o,i),r(e,o,i))};return e.store=function(t,n,r){return n},e.restore=function(t,n,r){return n},e},abs:function(t){var n=function(n,r,e){var o=t(n,r,e);return Math.abs(o)};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},add:function(t,n){var r=function(r,e,o){return t(r,e,o)+n(r,e,o)};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},sub:function(t,n){var r=function(r,e,o){return t(r,e,o)-n(r,e,o)};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},mul:function(t,n){var r=function(r,e,o){return t(r,e,o)*n(r,e,o)};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},div:function(t,n){var r=function(r,e,o){return t(r,e,o)/n(r,e,o)};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},mod:function(t,n){var r=function(r,e,o){return t(r,e,o)%n(r,e,o)};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},min:function(t,n){var r=function(r,e,o){var i=t(r,e,o),u=n(r,e,o);return Math.min(i,u)};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},max:function(t,n){var r=function(r,e,o){var i=t(r,e,o),u=n(r,e,o);return Math.max(i,u)};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},eq:function(t,n){var r=function(r,e,o){return t(r,e,o)===n(r,e,o)};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},ne:function(t,n){var r=function(r,e,o){return t(r,e,o)!==n(r,e,o)};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},lt:function(t,n){var r=function(r,e,o){return t(r,e,o)<n(r,e,o)};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},lte:function(t,n){var r=function(r,e,o){return t(r,e,o)<=n(r,e,o)};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},gt:function(t,n){var r=function(r,e,o){return t(r,e,o)>n(r,e,o)};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},gte:function(t,n){var r=function(r,e,o){return t(r,e,o)>=n(r,e,o)};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},begin:function(t){var n=function(n,r,e){var o=e;return t(n,o._begin||o.begin,e)};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},end:function(t){var n=function(n,r,e){var o=e;return t(n,o._end||o.end,e)};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},to:function(t,n){var r=function(t,n,r){var e=i(o),o=o(t,n,r),i=e(t,n,r);return o-i};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},over:function(t,n){var r=function(t,n,r){var e=i(o),o=o(t,n,r),i=e(t,n,r);return o/i};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},concat:function(t){var n=function(n,r,e){var o="",i=!0,u=!1,a=void 0;try{for(var c,f=t[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){o+=(0,c.value)(n,r,e)}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return o};return n.store=function(t,n,r){return n},n.restore=function(t,n,r){return n},n},func:function(t,n,r){var e=function(e,o,i){var u="";u=""+t,u+="(";var a="",c=0,f=!0,l=!1,s=void 0;try{for(var v,h=r[Symbol.iterator]();!(f=(v=h.next()).done);f=!0){a+=(0,v.value)(e,o,i),c+=1,c<r.length&&(a+=n)}}catch(t){l=!0,s=t}finally{try{!f&&h.return&&h.return()}finally{if(l)throw s}}return u+=a,u+=")"};return e.store=function(t,n,r){return n},e.restore=function(t,n,r){return n},e},translate:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="translate("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},translatex:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="translatex("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},translatey:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="translatey("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},translatez:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="translatez("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},translate3d:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="translate3d("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},rotate:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="rotate("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},rotatex:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="rotatex("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},rotatey:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="rotatey("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},rotatez:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="rotatez("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},rotate3d:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="rotate3d("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},scale:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="scale("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},scalex:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="scalex("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},scaley:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="scaley("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},scalez:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="scalez("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},scale3d:function(t){var n=t,r=function(r,e,o){var i="",u="",a=0,c=!0,f=!1,l=void 0;try{for(var s,v=t[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){u+=(0,s.value)(r,e,o),a+=1,a<n.length&&(u+=", ")}}catch(t){f=!0,l=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}return i="scale3d("+u,i+=")"};return r.store=function(t,n,r){return n},r.restore=function(t,n,r){return n},r},properties:function(t){var n=Object.entries(t),r=function(t,r,o){var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=s[0];(0,s[1])(t[v],r,o)}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t};return r.store=function(t,r,o){t=t||{};var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=s[0],h=s[1];h.store&&(t[v]=h.store(t[v],r[v],o))}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t},r.restore=function(t,r,o){var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=s[0],h=s[1];h.restore&&h.restore(t[v],r[v],o)}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t},r},fields:function(t){var n=Object.entries(t),r=function(t,r,o){var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=s[0],h=s[1];t[v]=h(t[v],r,o)}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t};return r.store=function(t,r,o){t=t||{};var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=s[0],h=s[1];h.store&&(t[v]=h.store(t[v],r[v],o))}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t},r.restore=function(t,r,o){var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=s[0],h=s[1];h.restore&&(t[v]=h.restore(t[v],r[v],o))}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t},r},style:function(t){var n=Object.entries(t),r=function(t,r,o){var i=t.style,u=!0,a=!1,c=void 0;try{for(var f,l=n[Symbol.iterator]();!(u=(f=l.next()).done);u=!0){var s=f.value,v=e(s,2),h=v[0],d=v[1];i[h]=d(i[h],r,o)}}catch(t){a=!0,c=t}finally{try{!u&&l.return&&l.return()}finally{if(a)throw c}}return t};return r.store=function(t,r,o){t=t||{};var i=t.style,u=r.style;i=t.style||{};var a=!0,c=!1,f=void 0;try{for(var l,s=n[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var v=l.value,h=e(v,2),d=h[0],y=h[1];y.store&&(i[d]=y.store(i[d],u[d],o))}}catch(t){c=!0,f=t}finally{try{!a&&s.return&&s.return()}finally{if(c)throw f}}return t.style=i,t},r.restore=function(t,r,o){var i=t.style,u=r.style,a=!0,c=!1,f=void 0;try{for(var l,s=n[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var v=l.value,h=e(v,2),d=h[0],y=h[1];y.restore&&(i[d]=y.restore(i[d],u[d],o))}}catch(t){c=!0,f=t}finally{try{!a&&s.return&&s.return()}finally{if(c)throw f}}return t},r},elements:function(t){var n=Object.entries(t),r=function(t,r,o){var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=s[0],h=s[1],d=o._begin||o.begin;o._begin=d[v];var y=o._end||o.end;o._end=y[v],h(o.animated[v].element,r[v],o),o._begin=d,o._end=y}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t};return r.store=function(t,r,o){t=t||{};var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=s[0],h=s[1];t[v]=h.store(t[v],o.animated[v].element,o)}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t},r.restore=function(t,r,o){var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=s[0];s[1].restore(o.animated[v].element,r[v],o)}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t},r},elementArrays:function(t){var n=Object.entries(t),r=function(t,r,o){var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){for(var l=c.value,s=e(l,2),v=s[0],h=s[1],d=o._begin||o.begin,y=o._end||o.end,m=o.animated[v].elements,b=r[v],p=d[v],g=y[v],w=0;w<m.length;w++)o._begin=p[w],o._end=g[w],h(m[w],b[w],o);o._begin=d,o._end=y}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t};return r.store=function(t,r,o){t=t||{};var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=s[0],h=s[1],d=o.animated[v].elements;t[v]=t[v]||[];for(var y=t[v],m=0;m<d.length;m++)y[m]=h.store(y[m],d[m],o);y.length=d.length}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t},r.restore=function(t,r,o){var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0)for(var l=c.value,s=e(l,2),v=s[0],h=s[1],d=o.animated[v].elements,y=r[v],m=0;m<d.length;m++)h.restore(d[m],y[m],o)}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t},r},object:function(t){var n=Object.entries(t),r=function(t,r,o){var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=s[0],h=s[1],d=o._begin||o.begin;o._begin=d[v];var y=o._end||o.end;o._end=y[v],h(t,r[v],o),o._begin=d,o._end=y}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t};return r.store=function(t,r,o){var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=(s[0],s[1]);v.store&&v.store(t,r,o)}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t},r.restore=function(t,r,o){var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=(s[0],s[1]);v.restore&&v.restore(t,r,o)}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t},r}})},function(t,n,r){"use strict";var e=function(){function t(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(0);t.exports=o({value:function(t){var n=function(n,r,e){return t(n,r,e)};return n.merge=function(t,n){return void 0===t?n:t},n.copy=function(n,r){return t.copy?t.copy(n,r):r},n},union:function(t){var n=function(n,r,e){var o=!0,i=!1,u=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){n=(0,a.value)(n,r,e)}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return n};return n.copy=function(n,r){var e=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done);e=!0){var c=u.value;n=c.copy?c.copy(n,r):r}}catch(t){o=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw i}}return n},n.merge=function(n,r){var e=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done);e=!0){var c=u.value;n=c.merge?c.merge(n,r):r}}catch(t){o=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw i}}return n},n},unary:function(t,n){var r=function(r,e,o){return t(n(r,e,o))};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},binary:function(t,n,r){var e=function(e,o,i){return t(n(e,o,i),r(e,o,i))};return e.merge=function(t,n){return void 0===t?n:t},e.copy=function(t,n){return n},e},abs:function(t){var n=function(n,r,e){var o=t(n,r,e);return Math.abs(o)};return n.merge=function(t,n){return void 0===t?n:t},n.copy=function(t,n){return n},n},add:function(t,n){var r=function(r,e,o){return t(r,e,o)+n(r,e,o)};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},sub:function(t,n){var r=function(r,e,o){return t(r,e,o)-n(r,e,o)};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},mul:function(t,n){var r=function(r,e,o){return t(r,e,o)*n(r,e,o)};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},div:function(t,n){var r=function(r,e,o){return t(r,e,o)/n(r,e,o)};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},mod:function(t,n){var r=function(r,e,o){return t(r,e,o)%n(r,e,o)};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},min:function(t,n){var r=function(r,e,o){var i=t(r,e,o),u=n(r,e,o);return Math.min(i,u)};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},max:function(t,n){var r=function(r,e,o){var i=t(r,e,o),u=n(r,e,o);return Math.max(i,u)};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},eq:function(t,n){var r=function(r,e,o){return t(r,e,o)===n(r,e,o)};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},ne:function(t,n){var r=function(r,e,o){return t(r,e,o)!==n(r,e,o)};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},lt:function(t,n){var r=function(r,e,o){return t(r,e,o)<n(r,e,o)};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},lte:function(t,n){var r=function(r,e,o){return t(r,e,o)<=n(r,e,o)};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},gt:function(t,n){var r=function(r,e,o){return t(r,e,o)>n(r,e,o)};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},gte:function(t,n){var r=function(r,e,o){return t(r,e,o)>=n(r,e,o)};return r.merge=function(t,n){return void 0===t?n:t},r.copy=function(t,n){return n},r},identity:function(){var t=function(t,n,r){return n};return t.merge=function(t,n){return void 0===t?n:t},t.copy=function(t,n){return n},t},constant:function(t){var n=function(n,r,e){return t};return n.merge=function(t,n){return void 0===t?n:t},n.copy=function(t,n){return n},n},property:function(t){var n=function(n,r,e){return r[t]};return n.merge=function(t,n){return void 0===t?n:t},n.copy=function(t,n){return n},n},object:function(t){var n=Object.entries(t),r=function(t,r,o){t=t||{};var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=s[0],h=s[1];t[v]=h(t[v],r,o)}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t};return r.copy=function(t,r){t=t||{};var o=!0,i=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value,l=e(f,2),s=l[0],v=l[1];t[s]=v.copy?v.copy(t[s],r[s]):r[s]}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return t},r.merge=function(t,r){t=t||{};var o=!0,i=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value,l=e(f,2),s=l[0],v=l[1];t[s]=v.merge?v.merge(t[s],r[s]):r[s]}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return t},r},elements:function(t){var n=Object.entries(t),r=function(t,r,o){t=t||{};var i=o.animated.root.element,u=!0,a=!1,c=void 0;try{for(var f,l=n[Symbol.iterator]();!(u=(f=l.next()).done);u=!0){var s=f.value,v=e(s,2),h=v[0],d=v[1];o.animated[h]=o.animated[h]||{},"root"!==h&&(o.animated[h].element=i.getElementsByClassName(h)[0]),t[h]=d(t[h],o.animated[h].element,o)}}catch(t){a=!0,c=t}finally{try{!u&&l.return&&l.return()}finally{if(a)throw c}}return t};return r.copy=function(t,r){t=t||{};var o=!0,i=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value,l=e(f,2),s=l[0],v=l[1];t[s]=v.copy?v.copy(t[s],r[s]):r[s]}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return t},r.merge=function(t,r){t=t||{};var o=!0,i=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value,l=e(f,2),s=l[0],v=l[1];t[s]=v.merge?v.merge(t[s],r[s]):r[s]}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return t},r},elementArrays:function(t){var n=Object.entries(t),r=function(t,r,o){t=t||{};var i=o.animated.root.element,u=!0,a=!1,c=void 0;try{for(var f,l=n[Symbol.iterator]();!(u=(f=l.next()).done);u=!0){var s=f.value,v=e(s,2),h=v[0],d=v[1];o.animated[h]=o.animated[h]||{},o.animated[h].elements=o.animated[h].elements||[],o.animated[h].elements.length=0;var y=o.animated[h].elements,m=i.getElementsByClassName(h),b=t[h]||[];b.length=m.length;for(var p=0;p<b.length;p++)y.push(m[p]),b[p]=d(b[p],y[p],o);t[h]=b}}catch(t){a=!0,c=t}finally{try{!u&&l.return&&l.return()}finally{if(a)throw c}}return t};return r.merge=function(t,r){t=t||{};var o=!0,i=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value,l=e(f,2),s=l[0],v=l[1],h=t[s]||[],d=r[s]||[];h.length=d.length;for(var y=0;y<d.length;y++)h[y]=v.merge?v.merge(h[y],d[y]):d[y];h[s]=h}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return t},r.copy=function(t,r){t=t||{};var o=!0,i=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value,l=e(f,2),s=l[0],v=l[1],h=t[s]||[],d=r[s]||[];h.length=d.length;for(var y=0;y<d.length;y++)h[y]=v.copy?v.copy(h[y],d[y]):d[y];t[s]=h}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return t},r},properties:function(t){var n=Object.entries(t),r=function(t,r,o){t=t||{};var i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,s=e(l,2),v=s[0],h=s[1];t[v]=h(t,r[v],o)}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}return t};return r.copy=function(t,r){t=t||{};var o=!0,i=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value,l=e(f,2),s=l[0],v=l[1];t[s]=v.copy?v.copy(t[s],r[s]):r[s]}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return t},r.merge=function(t,r){t=t||{};var o=!0,i=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value,l=e(f,2),s=l[0],v=l[1];t[s]=v.merge?v.merge(t[s],r[s]):r[s]}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return t},r},asElement:function(t,n){var r=function(r,e,o){return n(r,t(r,e,o),o)};return r.copy=function(t,r){return n.copy?n.copy(t,r):r},r.merge=function(t,r){return n.merge?n.merge(t,r):r},r},rect:function(){var t=function(t,n,r){var e=n.getBoundingClientRect(),o=t||{};return o.left=e.left+n.scrollLeft,o.top=e.top+n.scrollTop,o.right=e.right+n.scrollLeft,o.bottom=e.bottom+n.scrollTop,o.width=e.width,o.height=e.height,o};return t.copy=function(t,n){var r=t||{},e=n||{};return r.left=e.left,r.top=e.top,r.right=e.right,r.bottom=e.bottom,r.width=e.width,r.height=e.height,r},t.merge=function(t,n){var r=t||{},e=n||{};return r.left=e.left,r.top=e.top,r.right=e.right,r.bottom=e.bottom,r.width=e.width,r.height=e.height,r},t},should:function(t,n){var r=t,e=function(n,r,e){return t(n,r,e)};e.merge=function(t,n){return void 0===t?n:t},e.copy=function(t,n){return r.copy?r.copy(t,n):n};var o=e;return o.should=function(t,r){return n(t,r)},o}})},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),i=r(1),u=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.main;e(this,t),this.factory=n,this.loop=r,this.states={},this.elementToId=new Map}return o(t,[{key:"get",value:function(t,n){var r=this.states[n];return r||(r=this.states[n]=this.factory(t)),r}},{key:"set",value:function(t,n,r){var e=this.get(t,n);return e.set(r||"default"),e}},{key:"delete",value:function(t,n){this.states[n]&&(this.states[n].unschedule(),this.states[n]=null)}},{key:"setElement",value:function(t,n,r){var e=this.get(t,n);if(e){this.elementToId.set(r,n);var o=e.data.animated||{root:{element:null}};o.root.element=r,e.schedule(o,this.loop)}}},{key:"getAnimatedState",value:function(t){this.states[this.elementToId.get(t)]}},{key:"getAnimated",value:function(t){var n=this.getAnimatedState(t);return n&&n.data.animated}}]),t}();n.default=a},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),i=r(10),u=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){function t(n){e(this,t),this.animations=n,this.create=this.create.bind(this)}return o(t,[{key:"create",value:function(t){return new u.default(this.animations[t])}}]),t}();n.default=a},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),i=function(t,n){return t};i.copy=function(t){return t},i.merge=function(t){return t};var u=function(){};u.done=function(){return!0};var a=function(){};a.store=function(){},a.restore=function(){};var c={update:i,animate:u,present:a},f=function(){},l=0,s="__init__",v=function(t){t.loop.soon().then(function(){return d(t,3)})},h=function(t){t.loop.soon().then(function(){return y(t,0)})},d=function(t,n){var r=t.transitionState,e=0;if((3===r||7===r)&&3===n){3===r&&(t.animation={});var o=t.get()||"default",f=t.animations.default||c,s=t.animations[o]||f,d=t.animation.update=s.update||f.update||i;t.animation.animate=s.animate||f.animate||u;var m=t.animation.present=s.present||f.present||a,b=t.data,p=b.animated.root;return b.lastT=b.t,b.t=0,b.end=d(b.end,p.element,b),3===t.transitionState?(b.state=d.copy(b.state,b.end),b.begin=d.copy(b.begin,b.end)):(b.state=d.merge(b.state,b.end),b.begin=d.merge(b.begin,b.end)),b.store=m.store(b.store,p.element,b),t.loop.add(y,t),t.transitionState=8,void h(t)}if(r===l)0===n?r=1:1===n&&(r=2);else if(1===r)1===n&&(e=2,r=3);else if(2===r)0===n?(e=2,r=3):2===n&&(r=l);else if(4===r)0===n?r=5:1===n&&(r=6);else if(5===r)0===n?e=1:1===n&&(e=2,r=7);else if(6===r)0===n?(e=2,r=7):2===n&&(r=4);else if(7===r)0===n?e=1:2===n&&(r=5);else if(8===r){if(0===n||4===n||2===n){2!==n&&t.resolve();var g=t.data;t.animation.present.restore(g.animated.root.element,g.store,g),t.animation.update.copy(g.begin,g.state),t.loop.remove(y,t)}0===n?(e=2,r=7):2===n?r=5:4===n&&(r=6)}0!==e&&(1===e?t.resolve():2===e&&v(t)),r!==t.transitionState&&(t.transitionState=r)},y=function(t,n){if(8===t.transitionState){var r=t.data,e=t.animation,o=e.animate,i=e.present;r.t+=n,o(r.t,r.state,r.begin,r.end,r),o.done&&o.done(r.t,r.state,r.begin,r.end,r)?d(t,4):i(r.animated.root.element,r.state,r)}},m=function(){function t(n){e(this,t),this.state=s,this.transitionState=l,this.animation=null,this.animations=n,this.data={t:0,lastT:0,store:null,state:null,begin:null,end:null,animated:null},this.resolve=f}return o(t,[{key:"get",value:function(){return this.state}},{key:"set",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;this.state=t,d(this,0),this.resolve=n}},{key:"setThen",value:function(t){var n=this;return new Promise(function(r){return n.set(t,r)})}},{key:"schedule",value:function(t,n){this.data.animated=t,this.loop=n,d(this,1)}},{key:"unschedule",value:function(){d(this,2),this.data.animated=null}},{key:"transitionStep",value:function(t){d(this,t)}},{key:"step",value:function(t){y(this,t)}}]),t}();n.default=m},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),u=function(){function t(){e(this,t),this.set=[]}return i(t,[{key:"values",value:function(){return this.set}},{key:"add",value:function(t){this.set.push(t)}},{key:"delete",value:function(t){var n=this.set.indexOf(t);-1!==n&&this.set.splice(n,1)}}]),t}(),a=function(){function t(){e(this,t),this.bound={},this.sets={}}return i(t,[{key:"setFor",value:function(t,n){return this.sets[t]=this.sets[t]||{},"*"===n?this.sets[t].__all__=this.sets[t].__all__||new u:this.sets[t][n]=this.sets[t][n]||new u}},{key:"bind",value:function(t,n){if(!this.bound[t]){var r=t.split(":"),e=o(r,2),i=e[0],u=e[1],a=this.setFor(i,"*"),c=this.setFor(i,u);if(3===n){var f=a.values(),l=c.values();this.bound[t]=function(t,n,r){for(var e=0,o=f.length;e<o;)f[e++](u,t,n,r);for(var i=0,a=l.length;i<a;)l[i++](t,n,r)}}else this.bound[t]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var e=!0,o=!1,i=void 0;try{for(var f,l=a.values()[Symbol.iterator]();!(e=(f=l.next()).done);e=!0){f.value.apply(void 0,[u].concat(n))}}catch(t){o=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(o)throw i}}var s=!0,v=!1,h=void 0;try{for(var d,y=c.values()[Symbol.iterator]();!(s=(d=y.next()).done);s=!0){d.value.apply(void 0,n)}}catch(t){v=!0,h=t}finally{try{!s&&y.return&&y.return()}finally{if(v)throw h}}}}return this.bound[t]}},{key:"on",value:function(t,n){var r=t.split(":"),e=o(r,2),i=e[0],u=e[1],a=this.setFor(i,u);return a.add(n),function(){return a.delete(n)}}}]),t}();n.default=a},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),i=function(){function t(n,r){e(this,t),this.manager=n,this.bus=r,this.stateBegin=r.bind("state:begin",3),this.stateEnd=r.bind("state:end",3),r.on("state:change",this.set.bind(this)),r.on("state:destroy",n.delete.bind(n)),r.on("element:create",n.setElement.bind(n)),r.on("element:update",n.setElement.bind(n)),r.on("element:destroy",n.delete.bind(n))}return o(t,[{key:"set",value:function(t,n,r){var e=this,o=this.manager.set(t,n,r);this.stateBegin(t,n,r),o.resolve=function(){return e.stateEnd(t,n,r)}}}]),t}();n.default=i},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),u=r(14),a=function(){function t(){e(this,t),this.patterns=new u,this.results={},this.idToTypes={},this._match={last:"",type:"",id:"",animation:""}}return i(t,[{key:"add",value:function(t,n){var r=t.split(" "),e=o(r,2),i=e[0],a=e[1];a?(a=a.replace("{type}",i).replace("{id}","*"),-1===a.indexOf("*")&&(a+="*")):a=i+"*",this.patterns.add(i),this.patterns.add(a),this.idToTypes[a]=i;var c={id:(new u).add(a),animationNames:n,hasAnimation:{},animations:new u};n.forEach(function(t){c.animations.add(t.replace("{type}",i)),c.hasAnimation[t]=!0}),c.animations.add(a),this.results[i]=c}},{key:"match",value:function(t){if(this._match.last===t)return Boolean(this.results[this._match.type]);this._match.last=t;var n=this._match.type=this.patterns.search(t);if(!n)return this._match.animation=null,this._match.id=null,!1;var r=void 0,e=void 0,o=void 0,i=this.patterns.begin,u=this.patterns.end;return n&&n.endsWith("*")?(n=this.idToTypes[n],o=this.results[n],e=o.animations.search(t,i,u+1)):(o=this.results[n],e=o.animations.search(t,u)),e?e.endsWith("*")?(r=t.substring(o.animations.begin,o.animations.end),(e=o.animations.search(t,o.animations.end))||(e=o.animations.search(t,0,i+1))):r||(o.id.search(t,o.animations.end)?r=t.substring(o.id.begin,o.id.end):o.id.search(t,0,i+1)&&(r=t.substring(o.id.begin,o.id.end))):(e=o.animations.search(t,0,i+1),e?e.endsWith("*")?(r=t.substring(o.animations.begin,o.animations.end),e=o.animations.search(t,o.animations.end,i+1)):r||o.id.search(t,o.animations.end,i+1)&&(r=t.substring(o.id.begin,o.id.end)):r||o.id.search(t,0,i+1)&&(r=t.substring(o.id.begin,o.id.end))),this._match.type=n,this._match.animation=e||"default",this._match.id=r||n,!0}},{key:"matchType",value:function(){return this._match.type}},{key:"matchAnimation",value:function(){return this._match.animation}},{key:"matchId",value:function(){return this._match.id}},{key:"matchHasAnimation",value:function(t){return this.results[this.matchType()].hasAnimation[t]||!1}}]),t}();n.default=a},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),u=function(){function t(){e(this,t),this.patterns=[],this._dirty=!0,this.code=[],this.answers=[]}return i(t,[{key:"add",value:function(t){return this.patterns.push({pattern:t,chars:t+"\0",codes:(t+"\0").split("").map(function(t){return t.charCodeAt(0)})}),this._dirty=!0,this}},{key:"rebuild",value:function(){for(var t={},n=[],r=[],e=0;e<this.patterns.length;e++){for(var i=this.patterns[e],u=t,a=0;a<i.codes.length-1;a++){var c=i.codes[a];if(42!==c)u=u[c]=u[c]||{};else for(var f={},l=[[u,Object.keys(u),0]];l.length;){var s=l.pop();u=s[0];var v=s[1],h=s[2];if(h<v.length){var d=u[v[h]];l.push([u,v,h+1]),d.pattern||l.push([d,Object.keys(d),0])}else u=u[42]=f}}u[32]=i,u[0]=i}for(var y=n.length,m=Object.entries(t),b=0;b<m.length;b++)n[y++]=m[b][0],n[y++]=m[b][1];n[y++]=-1,n[y++]=-1;for(var p=0;p<n.length;){var g=n[p+1];if(-1!==g)if(g.pattern)n[p+1]=-r.length,r.push(g.pattern),p+=2;else{n[p+1]=y,m=Object.entries(g),m.sort(function(t,n){var r=o(t,1),e=r[0],i=o(n,1),u=i[0];return 42===Number(e)?1:42===Number(u)?-1:Number(e)-Number(u)});for(var w=0;w<m.length;w++)n[y++]=m[w][0],n[y++]=m[w][1];n[y++]=-1,n[y++]=-1,p+=2}else p+=2}this.code=new Int32Array(n),this.answers=r,this._dirty=!1}},{key:"search",value:function(t,n,r){if(this._dirty){if(0===this.patterns.length)return!1;this.rebuild()}this.begin=n||0,this.end=n||0;for(var e=t+"\0",o=this.code,i=0,u=n||0,a=r||e.length;u<a;++u){var c=e.charCodeAt(u);if(o[i]===c){if(o[i+1]<=0)return this.end=u,this.answers[-o[i+1]];i=o[i+1]}else if(42===o[i]&&32!==c&&0!==c){for(i=o[i+1];++u<a&&32!==(c=e.charCodeAt(u))&&0!==c;);--u}else if(--u,i+=2,-1===o[i]){for(i=0;++u<a&&32!==e.charCodeAt(u););this.begin=u+1}}return!1}}]),t}();t.exports=u},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),i=function(){function t(n){var r=n.bus,o=n.loop,i=n.matcher;e(this,t),this.bus=r,this.loop=o,this.matcher=i,this.elements={},this.elementRefs={},this.change=r.bind("state:change",3),this.create=r.bind("element:create",3),this.update=r.bind("element:update",3),this.destroy=r.bind("element:destroy",2),this.onChildMutate=this.onChildMutate.bind(this),this.onClassMutate=this.onClassMutate.bind(this),this.childMutationObserver=new MutationObserver(this.onChildMutate),this.classMutationObserver=new MutationObserver(this.onClassMutate)}return o(t,[{key:"createNode",value:function(t){this.matcher.match(t.className)&&(this.change(this.matcher.matchType(),this.matcher.matchId(),this.matcher.matchAnimation()),this.elements[this.matcher.matchId()]?(this.update(this.matcher.matchType(),this.matcher.matchId(),t),this.elementRefs[this.matcher.matchId()]+=1):(this.create(this.matcher.matchType(),this.matcher.matchId(),t),this.elementRefs[this.matcher.matchId()]=1),this.elements[this.matcher.matchId()]=t)}},{key:"destroyNode",value:function(t){var n=this;if(this.matcher.match(t.className)){var r=this.matcher.matchType(),e=this.matcher.matchId();this.elementRefs[e]-=1,this.loop.soon().then(function(){0===n.elementRefs[e]&&(n.destroy(r,e),delete n.elements[e],delete n.elementRefs[e])})}}},{key:"onChildMutate",value:function(t){for(var n=0,r=t.length;n<r;n++){for(var e=t[n],o=0,i=e.addedNodes.length;o<i;o++)this.createNode(e.addedNodes[o]);for(var u=0,a=e.removedNodes.length;u<a;u++)this.destroyNode(e.removedNodes[u])}}},{key:"onClassMutate",value:function(t){for(var n=0,r=t.length;n<r;n++){var e=t[n];e.target.className!==e.oldValue&&this.matcher.match(e.target.className)&&this.change(this.matcher.matchType(),this.matcher.matchId(),this.matcher.matchAnimation())}}},{key:"observe",value:function(t){this.childMutationObserver.observe(t,this.childMutationInitOptions),this.classMutationObserver.observe(t,this.classMutationInitOptions);for(var n in this.animations)for(var r=t.getElementsByClassName(n),e=0;e<r.length;e++)this.createNode(r[e])}},{key:"disconnect",value:function(){this.childMutationObserver.disconnect(),this.classMutationObserver.disconnect()}},{key:"childMutationInitOptions",get:function(){return{childList:!0,subtree:!0}}},{key:"classMutationInitOptions",get:function(){return{attributes:!0,attributeOldValue:!0,attributeFilter:["class"],subtree:!0}}}]),t}();n.default=i}])});